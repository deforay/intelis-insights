# ==============================================================
# Intelis Insights — Environment Configuration
# ==============================================================
# cp .env.example .env   # then fill in your values
#
# Docker Compose overrides DB_HOST, LLM_SIDECAR_URL, RAG_BASE_URL,
# etc. with container hostnames. The values below are for reference
# and for host-side tools (mysql CLI, DB GUIs, etc.).
# ==============================================================

# ── App Database (intelis_insights) ──────────────────────────
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=intelis_insights
DB_USER=root
DB_PASSWORD=intelis_dev

# ── Query Database (VLSM — where LLM-generated SQL executes) ─
# By default, queries run against the same MySQL container.
# Import a VLSM dump:  make db-import FILE=path/to/vlsm-dump.sql
# Or connect to an external VLSM instance:
#   QUERY_DB_HOST=external-host
#   QUERY_DB_USER=readonly_user
#   QUERY_DB_PASSWORD=readonly_pass
QUERY_DB_NAME=vlsm
# QUERY_DB_HOST=
# QUERY_DB_USER=
# QUERY_DB_PASSWORD=

# ── LLM Provider API Keys ───────────────────────────────────
# At least one key is required for LLM features to work.
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
DEEPSEEK_API_KEY=
# GOOGLE_GENERATIVE_AI_API_KEY=
# GROQ_API_KEY=

# ── LLM Sidecar ─────────────────────────────────────────────
LLM_SIDECAR_URL=http://127.0.0.1:3100
LLM_SIDECAR_SECRET=
LLM_DEFAULT_MODEL=sonnet
# Skip auth on LLM sidecar (dev only)
ALLOW_INSECURE_NO_AUTH=true

# ── RAG ──────────────────────────────────────────────────────
RAG_BASE_URL=http://127.0.0.1:8089
RAG_ENABLED=true
EMBEDDING_MODEL=BAAI/bge-small-en-v1.5

# ── Qdrant ───────────────────────────────────────────────────
QDRANT_URL=http://127.0.0.1:6333
QDRANT_COLLECTION=intelis_insights

# ── App ──────────────────────────────────────────────────────
APP_ENV=development
APP_DEBUG=true
APP_TIMEZONE=UTC

# ── Init ─────────────────────────────────────────────────────
# Set to 1 to force RAG re-seeding on next container start
FORCE_RAG_REFRESH=0
